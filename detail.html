<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kumpulan Video</title>

<style>
body{margin:0;background:#0f172a;color:#fff;font-family:Arial}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:18px;
  padding:20px;
}
.card{
  background:#1e293b;
  border-radius:10px;
  overflow:hidden;
  cursor:pointer;
  transition:.3s;
}
.card:hover{transform:scale(1.05)}
.card img{
  width:100%;
  height:260px;
  object-fit:cover;
}
.card-title{
  padding:10px;
  font-size:14px;
}
</style>
</head>
<body>

<div class="grid" id="grid"></div>

<script>
async function load(){
  const res = await fetch("/videos",{cache:"no-store"});
  const json = await res.json();

  const grid = document.getElementById("grid");
  grid.innerHTML="";

  Object.entries(json).reverse().forEach(([key,post])=>{
    const title = post.title || "No Title";
    const thumb = post.thumbnail || post.image || "https://via.placeholder.com/300x450?text=No+Image";

    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`
      <img src="${thumb}">
      <div class="card-title">${title}</div>
    `;

    // ðŸ”¥ kirim KEY asli KV
    div.onclick=()=>location.href="/?id="+encodeURIComponent(key);

    grid.appendChild(div);
  });
}
load();
</script>

</body>
</html>
